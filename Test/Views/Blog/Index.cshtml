@model IEnumerable<BlogPosts>

@{
    ViewData["Title"] = "Blog";
}

<div class="w3-content" style="max-width:1600px;">
    <!-- Grid -->
    <div class="w3-row">
        <!-- Blog entries -->
        <div class="w3-col l8 s12">
            <!-- Blog entry -->
            <div class="w3-container">
                @foreach (var post in Model)
                {
                    <div class="blog w3-margin w3-padding">
                        <div class="w3-center">
                            <h3><strong>@post.Title</strong></h3>
                            <span class="w3-opacity">@post.PostCreated</span>
                        </div>

                        <div class="w3-justify">
                            <a asp-controller="Blog" asp-action="Details" asp-route-id="@post.ID"><img src=@post.ImagePath alt=@post.Title style="width:100%" class="w3-padding-16"></a>
                            <p class="w3-left-align">
                                @if (post.Content.Length >= 200)
                                {
                                    @(post.Content.Substring(0, 199) + "...".ToString())
                                }
                                else
                                {
                                    @post.Content
                                }
                            </p>
                            <br />
                            <p class="w3-left"><b><a asp-controller="Blog" asp-action="Details" asp-route-id="@post.ID" class="w3-button w3-white w3-border">Continue reading...</a></b></p>
                            <p class="w3-right"><button class="w3-button w3-black" onclick="myFunction('demo1')" id="myBtn"><b>Comments  </b> <span class="w3-tag w3-white"></span></button></p>
                            <p class="w3-clear"></p>
                            <div class="w3-row w3-margin-bottom" id="demo1" style="display:none">

                                <div class="w3-col l2 m3">
                                </div>
                            </div>
                        </div>
                    </div>
                }

            </div>
            <!-- END BLOG ENTRIES -->
        </div>

        <!-- Post menu -->
        <div class="w3-col l4">
            <!-- Posts -->
            <div class="w3-white w3-margin">
                <div class="w3-container w3-padding w3-center" style="background-color: #00303F; color: white">
                    <h4>Blog Posts</h4>
                </div>
                <ul class="w3-ul w3-hoverable" style="background-color: #CAE4DB;">
                    @foreach (var post in Model)
                    {
                        <li class="w3-padding-16" style=" border: 1px solid white">
                            <a asp-controller="Blog" asp-action="Details" asp-route-id="@post.ID"><strong>@post.Title</strong></a>
                            <p>@post.PostCreated</p>
                        </li>
                    }
                </ul>
            </div>
            <!-- END About/Intro Menu -->
        </div>

        <!-- END GRID -->
    </div>
    <!-- END w3-content -->
</div>
<div class="w3-center w3-margin w3-padding">
    <a href="#" class="w3-button w3-black w3-padding-large"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
</div>

 @*Subscribe Modal 
<div id="subscribe" class="w3-modal w3-animate-opacity">
    <div class="w3-modal-content" style="padding:32px">
        <div class="w3-container w3-white">
            <i onclick="document.getElementById('subscribe').style.display='none'" class="fa fa-remove w3-transparent w3-button w3-xlarge w3-right"></i>
            <h2 class="w3-wide">SUBSCRIBE</h2>
            <p>Join my mailing list to receive updates on the latest blog posts and other things.</p>
            <p><input class="w3-input w3-border" type="text" placeholder="Enter e-mail"></p>
            <button type="button" class="w3-button w3-block w3-padding-large w3-red w3-margin-bottom" onclick="document.getElementById('subscribe').style.display='none'">Subscribe</button>
        </div>
    </div>
</div>*@

<script>
// Toggle between hiding and showing blog replies/comments
document.getElementById("myBtn").click();
function myFunction(id) {
    var x = document.getElementById(id);
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}

function likeFunction(x) {
    x.style.fontWeight = "bold";
    x.innerHTML = "✓ Liked";
}
</script>